"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/page",{

/***/ "(app-pages-browser)/./components/ui/ConvoView.tsx":
/*!*************************************!*\
  !*** ./components/ui/ConvoView.tsx ***!
  \*************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ConvoView: function() { return /* binding */ ConvoView; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _MapView__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./MapView */ \"(app-pages-browser)/./components/ui/MapView.tsx\");\n/* harmony import */ var _TableView__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./TableView */ \"(app-pages-browser)/./components/ui/TableView.tsx\");\n/* harmony import */ var _topbar__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./topbar */ \"(app-pages-browser)/./components/ui/topbar.tsx\");\n/* harmony import */ var _bottombar__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./bottombar */ \"(app-pages-browser)/./components/ui/bottombar.tsx\");\n/* harmony import */ var _public_ConvosIcons_png__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../public/ConvosIcons.png */ \"(app-pages-browser)/./public/ConvosIcons.png\");\n/* harmony import */ var _public_Transcript_png__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../public/Transcript.png */ \"(app-pages-browser)/./public/Transcript.png\");\n/* harmony import */ var _recorder__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./recorder */ \"(app-pages-browser)/./components/ui/recorder.ts\");\n\nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\n\nfunction ConvoView(cvp) {\n    _s();\n    var [appMode, setMode] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const topbar_txt = [\n        {\n            title: \"Conversation Map\",\n            p1: \"Find conversations that you want to join!\",\n            p2: \"Stuck? The transcripts are a great place to start!\",\n            logo: _public_ConvosIcons_png__WEBPACK_IMPORTED_MODULE_6__[\"default\"],\n            color: \"#FFE100\"\n        },\n        {\n            title: \"Transcripts\",\n            p1: \"See what the conversation is all about!\",\n            p2: \" \",\n            logo: _public_Transcript_png__WEBPACK_IMPORTED_MODULE_7__[\"default\"],\n            color: \"#58CC02\"\n        }\n    ];\n    const test = [\n        {\n            id: 3,\n            transcript: \"\",\n            px: 55,\n            py: 45,\n            theta: 55,\n            timestamp: Date.now(),\n            paused: false,\n            cxy: 0\n        },\n        {\n            id: 2,\n            transcript: \"\",\n            px: 95,\n            py: 45,\n            theta: 55,\n            timestamp: Date.now(),\n            paused: false,\n            cxy: 0\n        }\n    ];\n    const tdata = [\n        {\n            label: \"Artifical intelligence\",\n            id: 3,\n            transcript: \"cock\",\n            tips: \"abcd\",\n            paused: false\n        },\n        {\n            label: \"Artifical intelligence\",\n            id: 2,\n            transcript: \"cock\",\n            tips: \"abcd\",\n            paused: false\n        }\n    ];\n    _recorder__WEBPACK_IMPORTED_MODULE_8__.recorder_loop;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        children: [\n            appMode != 2 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_topbar__WEBPACK_IMPORTED_MODULE_4__.Topbar, {\n                    title: topbar_txt[appMode].title,\n                    p1: topbar_txt[appMode].p1,\n                    p2: topbar_txt[appMode].p2,\n                    logo: topbar_txt[appMode].logo,\n                    colour: topbar_txt[appMode].color\n                }, void 0, false, {\n                    fileName: \"/Users/ktzhang/convo-sepper/components/ui/ConvoView.tsx\",\n                    lineNumber: 37,\n                    columnNumber: 29\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/ktzhang/convo-sepper/components/ui/ConvoView.tsx\",\n                lineNumber: 37,\n                columnNumber: 24\n            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {}, void 0, false, {\n                fileName: \"/Users/ktzhang/convo-sepper/components/ui/ConvoView.tsx\",\n                lineNumber: 37,\n                columnNumber: 213\n            }, this),\n            appMode == 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_MapView__WEBPACK_IMPORTED_MODULE_2__.MapView, {\n                    label: \"a\",\n                    backgroundColour: \"#EFEFEF\",\n                    ConvoPts: test,\n                    height: \"43vh\"\n                }, void 0, false, {\n                    fileName: \"/Users/ktzhang/convo-sepper/components/ui/ConvoView.tsx\",\n                    lineNumber: 39,\n                    columnNumber: 23\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/ktzhang/convo-sepper/components/ui/ConvoView.tsx\",\n                lineNumber: 39,\n                columnNumber: 18\n            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {}, void 0, false, {\n                fileName: \"/Users/ktzhang/convo-sepper/components/ui/ConvoView.tsx\",\n                lineNumber: 39,\n                columnNumber: 120\n            }, this),\n            appMode <= 1 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_TableView__WEBPACK_IMPORTED_MODULE_3__.TableView, {\n                    label: \"a\",\n                    backgroundColour: appMode == 0 ? \"#58CC02\" : \"#FFFFF\",\n                    ConvoData: tdata,\n                    height: appMode == 1 ? \"62vh\" : \"25vh\"\n                }, void 0, false, {\n                    fileName: \"/Users/ktzhang/convo-sepper/components/ui/ConvoView.tsx\",\n                    lineNumber: 40,\n                    columnNumber: 23\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/ktzhang/convo-sepper/components/ui/ConvoView.tsx\",\n                lineNumber: 40,\n                columnNumber: 18\n            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {}, void 0, false, {\n                fileName: \"/Users/ktzhang/convo-sepper/components/ui/ConvoView.tsx\",\n                lineNumber: 40,\n                columnNumber: 178\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_bottombar__WEBPACK_IMPORTED_MODULE_5__.Bottombar, {\n                onClick1: ()=>setMode(0),\n                onClick2: ()=>setMode(1),\n                onClick3: ()=>setMode(2)\n            }, void 0, false, {\n                fileName: \"/Users/ktzhang/convo-sepper/components/ui/ConvoView.tsx\",\n                lineNumber: 41,\n                columnNumber: 5\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/ktzhang/convo-sepper/components/ui/ConvoView.tsx\",\n        lineNumber: 35,\n        columnNumber: 5\n    }, this);\n}\n_s(ConvoView, \"sOYyTKBzcrQ1VD7Ybgf7KBZFj80=\");\n_c = ConvoView;\nvar _c;\n$RefreshReg$(_c, \"ConvoView\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2NvbXBvbmVudHMvdWkvQ29udm9WaWV3LnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBR2dEO0FBQ1o7QUFDSTtBQUNOO0FBQ007QUFDYTtBQUNKO0FBQ047QUFZcEMsU0FBU1EsVUFBVUMsR0FBZTs7SUFFdkMsSUFBSSxDQUFDQyxTQUFTQyxRQUFRLEdBQUdYLCtDQUFRQSxDQUFDO0lBQ2xDLE1BQU1ZLGFBQWE7UUFBQztZQUFDQyxPQUFPO1lBQW9CQyxJQUFJO1lBQTZDQyxJQUFJO1lBQXNEQyxNQUFNWCwrREFBVUE7WUFBRVksT0FBTztRQUFTO1FBQUc7WUFBQ0osT0FBTztZQUFlQyxJQUFJO1lBQTJDQyxJQUFJO1lBQUtDLE1BQU1WLDhEQUFPQTtZQUFFVyxPQUFPO1FBQVM7S0FBRTtJQUVoVCxNQUFNQyxPQUFPO1FBQUM7WUFBQ0MsSUFBSTtZQUFHQyxZQUFZO1lBQUlDLElBQUk7WUFBSUMsSUFBSTtZQUFJQyxPQUFPO1lBQUlDLFdBQVdDLEtBQUtDLEdBQUc7WUFBSUMsUUFBUTtZQUFPQyxLQUFLO1FBQUM7UUFBRztZQUFDVCxJQUFJO1lBQUdDLFlBQVk7WUFBSUMsSUFBSTtZQUFJQyxJQUFJO1lBQUlDLE9BQU87WUFBSUMsV0FBV0MsS0FBS0MsR0FBRztZQUFJQyxRQUFRO1lBQU9DLEtBQUs7UUFBQztLQUFFO0lBQ2pOLE1BQU1DLFFBQVE7UUFBQztZQUFDQyxPQUFPO1lBQ3JCWCxJQUFJO1lBQUdDLFlBQVk7WUFBUVcsTUFBTTtZQUFRSixRQUFRO1FBQUs7UUFBRztZQUFDRyxPQUFPO1lBQy9EWCxJQUFJO1lBQUdDLFlBQVk7WUFBUVcsTUFBTTtZQUFRSixRQUFRO1FBQUs7S0FBRTtJQUU1RHBCLG9EQUFhQTtJQUNiLHFCQUNFLDhEQUFDeUI7O1lBRUd0QixXQUFXLGtCQUFJLDhEQUFDc0I7MEJBQUksNEVBQUM3QiwyQ0FBTUE7b0JBQUNVLE9BQU9ELFVBQVUsQ0FBQ0YsUUFBUSxDQUFDRyxLQUFLO29CQUFFQyxJQUFJRixVQUFVLENBQUNGLFFBQVEsQ0FBQ0ksRUFBRTtvQkFBRUMsSUFBSUgsVUFBVSxDQUFDRixRQUFRLENBQUNLLEVBQUU7b0JBQUVDLE1BQU1KLFVBQVUsQ0FBQ0YsUUFBUSxDQUFDTSxJQUFJO29CQUFFaUIsUUFBUXJCLFVBQVUsQ0FBQ0YsUUFBUSxDQUFDTyxLQUFLOzs7Ozs7Ozs7O3FDQUFxQiw4REFBQ2U7Ozs7O1lBRW5OdEIsV0FBVyxrQkFBSSw4REFBQ3NCOzBCQUFJLDRFQUFDL0IsNkNBQU9BO29CQUFDNkIsT0FBTTtvQkFBSUksa0JBQWlCO29CQUFVQyxVQUFVakI7b0JBQU1rQixRQUFROzs7Ozs7Ozs7O3FDQUEyQiw4REFBQ0o7Ozs7O1lBQ3RIdEIsV0FBVyxrQkFBSSw4REFBQ3NCOzBCQUFJLDRFQUFDOUIsaURBQVNBO29CQUFDNEIsT0FBTTtvQkFBSUksa0JBQWtCeEIsV0FBVyxJQUFJLFlBQVk7b0JBQVUyQixXQUFXUjtvQkFBT08sUUFBUTFCLFdBQVcsSUFBSSxTQUFTOzs7Ozs7Ozs7O3FDQUE2Qiw4REFBQ3NCOzs7OzswQkFDOUssOERBQUM1QixpREFBU0E7Z0JBQUNrQyxVQUFVLElBQU0zQixRQUFRO2dCQUFJNEIsVUFBVSxJQUFNNUIsUUFBUTtnQkFBSTZCLFVBQVUsSUFBTTdCLFFBQVE7Ozs7Ozs7Ozs7OztBQUkvRjtHQXRCZ0JIO0tBQUFBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL2NvbXBvbmVudHMvdWkvQ29udm9WaWV3LnRzeD9lZDIxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBMaW5rIGZyb20gXCJuZXh0L2xpbmtcIjtcbmltcG9ydCBJbWFnZSBmcm9tIFwibmV4dC9pbWFnZVwiXG5pbXBvcnQgeyBTdGF0aWNJbXBvcnQgfSBmcm9tIFwibmV4dC9kaXN0L3NoYXJlZC9saWIvZ2V0LWltZy1wcm9wc1wiO1xuaW1wb3J0IHsgQ1NTUHJvcGVydGllcywgdXNlU3RhdGUgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IE1hcFZpZXcgfSBmcm9tIFwiLi9NYXBWaWV3XCI7XG5pbXBvcnQgeyBUYWJsZVZpZXcgfSBmcm9tIFwiLi9UYWJsZVZpZXdcIjtcbmltcG9ydCB7IFRvcGJhciB9IGZyb20gXCIuL3RvcGJhclwiO1xuaW1wb3J0IHsgQm90dG9tYmFyIH0gZnJvbSBcIi4vYm90dG9tYmFyXCI7XG5pbXBvcnQgY29udm9faWNvbiBmcm9tICcuLi8uLi9wdWJsaWMvQ29udm9zSWNvbnMucG5nJ1xuaW1wb3J0IHRyYW5zY3IgZnJvbSAnLi4vLi4vcHVibGljL1RyYW5zY3JpcHQucG5nJ1xuaW1wb3J0IHsgcmVjb3JkZXJfbG9vcCB9IGZyb20gXCIuL3JlY29yZGVyXCI7XG5cbmludGVyZmFjZSBDb252b1Byb3BzIHtcbiAgbGFiZWw6IHN0cmluZztcbiAgY2xhc3NOYW1lPzogc3RyaW5nO1xuICB3aWR0aD86IG51bWJlcjtcbiAgaGVpZ2h0PzogbnVtYmVyO1xuICBzdHlsZT86IENTU1Byb3BlcnRpZXM7XG4gIGJhY2tncm91bmRDb2xvdXI6IHN0cmluZztcbiAgb25DbGljaz86ICgpID0+IHZvaWQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBDb252b1ZpZXcoY3ZwOiBDb252b1Byb3BzKSB7XG5cbiAgdmFyIFthcHBNb2RlLCBzZXRNb2RlXSA9IHVzZVN0YXRlKDApXG4gIGNvbnN0IHRvcGJhcl90eHQgPSBbe3RpdGxlOiBcIkNvbnZlcnNhdGlvbiBNYXBcIiwgcDE6IFwiRmluZCBjb252ZXJzYXRpb25zIHRoYXQgeW91IHdhbnQgdG8gam9pbiFcIiwgcDI6IFwiU3R1Y2s/IFRoZSB0cmFuc2NyaXB0cyBhcmUgYSBncmVhdCBwbGFjZSB0byBzdGFydCFcIiwgbG9nbzogY29udm9faWNvbiwgY29sb3I6IFwiI0ZGRTEwMFwifSwge3RpdGxlOiBcIlRyYW5zY3JpcHRzXCIsIHAxOiBcIlNlZSB3aGF0IHRoZSBjb252ZXJzYXRpb24gaXMgYWxsIGFib3V0IVwiLCBwMjogXCIgXCIsIGxvZ286IHRyYW5zY3IsIGNvbG9yOiBcIiM1OENDMDJcIn1dXG4gIFxuICBjb25zdCB0ZXN0ID0gW3tpZDogMywgdHJhbnNjcmlwdDogXCJcIiwgcHg6IDU1LCBweTogNDUsIHRoZXRhOiA1NSwgdGltZXN0YW1wOiBEYXRlLm5vdygpLCBwYXVzZWQ6IGZhbHNlLCBjeHk6IDB9LCB7aWQ6IDIsIHRyYW5zY3JpcHQ6IFwiXCIsIHB4OiA5NSwgcHk6IDQ1LCB0aGV0YTogNTUsIHRpbWVzdGFtcDogRGF0ZS5ub3coKSwgcGF1c2VkOiBmYWxzZSwgY3h5OiAwfV07XG4gIGNvbnN0IHRkYXRhID0gW3tsYWJlbDogJ0FydGlmaWNhbCBpbnRlbGxpZ2VuY2UnLFxuICAgIGlkOiAzLCB0cmFuc2NyaXB0OiAnY29jaycsIHRpcHM6ICdhYmNkJywgcGF1c2VkOiBmYWxzZX0sIHtsYWJlbDogJ0FydGlmaWNhbCBpbnRlbGxpZ2VuY2UnLFxuICAgICAgaWQ6IDIsIHRyYW5zY3JpcHQ6ICdjb2NrJywgdGlwczogJ2FiY2QnLCBwYXVzZWQ6IGZhbHNlfV1cblxuICByZWNvcmRlcl9sb29wXG4gIHJldHVybiAoXG4gICAgPGRpdj5cbiAgICAgICAgIHtcbiAgICAgICAgYXBwTW9kZSAhPSAyID8gPGRpdj48VG9wYmFyIHRpdGxlPXt0b3BiYXJfdHh0W2FwcE1vZGVdLnRpdGxlfSBwMT17dG9wYmFyX3R4dFthcHBNb2RlXS5wMX0gcDI9e3RvcGJhcl90eHRbYXBwTW9kZV0ucDJ9IGxvZ289e3RvcGJhcl90eHRbYXBwTW9kZV0ubG9nb30gY29sb3VyPXt0b3BiYXJfdHh0W2FwcE1vZGVdLmNvbG9yfSA+PC9Ub3BiYXI+PC9kaXY+IDogPGRpdj48L2Rpdj5cbiAgICAgIH1cbnsgYXBwTW9kZSA9PSAwID8gPGRpdj48TWFwVmlldyBsYWJlbD1cImFcIiBiYWNrZ3JvdW5kQ29sb3VyPVwiI0VGRUZFRlwiIENvbnZvUHRzPXt0ZXN0fSBoZWlnaHQ9eyc0M3ZoJ30+PC9NYXBWaWV3PjwvZGl2PiA6IDxkaXY+PC9kaXY+IH1cbnsgYXBwTW9kZSA8PSAxID8gPGRpdj48VGFibGVWaWV3IGxhYmVsPVwiYVwiIGJhY2tncm91bmRDb2xvdXI9e2FwcE1vZGUgPT0gMCA/IFwiIzU4Q0MwMlwiIDogXCIjRkZGRkZcIn0gQ29udm9EYXRhPXt0ZGF0YX0gaGVpZ2h0PXthcHBNb2RlID09IDEgPyBcIjYydmhcIiA6IFwiMjV2aFwifT48L1RhYmxlVmlldz48L2Rpdj4gOiA8ZGl2PjwvZGl2Pn1cbiAgICA8Qm90dG9tYmFyIG9uQ2xpY2sxPXsoKSA9PiBzZXRNb2RlKDApfSBvbkNsaWNrMj17KCkgPT4gc2V0TW9kZSgxKX0gb25DbGljazM9eygpID0+IHNldE1vZGUoMil9PjwvQm90dG9tYmFyPlxuXG4gPC9kaXY+XG4gICk7XG59ICJdLCJuYW1lcyI6WyJ1c2VTdGF0ZSIsIk1hcFZpZXciLCJUYWJsZVZpZXciLCJUb3BiYXIiLCJCb3R0b21iYXIiLCJjb252b19pY29uIiwidHJhbnNjciIsInJlY29yZGVyX2xvb3AiLCJDb252b1ZpZXciLCJjdnAiLCJhcHBNb2RlIiwic2V0TW9kZSIsInRvcGJhcl90eHQiLCJ0aXRsZSIsInAxIiwicDIiLCJsb2dvIiwiY29sb3IiLCJ0ZXN0IiwiaWQiLCJ0cmFuc2NyaXB0IiwicHgiLCJweSIsInRoZXRhIiwidGltZXN0YW1wIiwiRGF0ZSIsIm5vdyIsInBhdXNlZCIsImN4eSIsInRkYXRhIiwibGFiZWwiLCJ0aXBzIiwiZGl2IiwiY29sb3VyIiwiYmFja2dyb3VuZENvbG91ciIsIkNvbnZvUHRzIiwiaGVpZ2h0IiwiQ29udm9EYXRhIiwib25DbGljazEiLCJvbkNsaWNrMiIsIm9uQ2xpY2szIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./components/ui/ConvoView.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./components/ui/recorder.ts":
/*!***********************************!*\
  !*** ./components/ui/recorder.ts ***!
  \***********************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   recorder_loop: function() { return /* binding */ recorder_loop; }\n/* harmony export */ });\nfunction recorder_loop(compass, gamma, beta) {\n    var server = \"conv-count-poc-997c48b4c4cc.herokuapp.com\";\n    var id = document.getElementById(\"channel\");\n    var controls = document.getElementById(\"controls\");\n    var ms = document.getElementById(\"ms\");\n    var txt = document.getElementById(\"txt\");\n    var normal = document.getElementById(\"normal\");\n    var ranged = document.getElementById(\"ranged\");\n    const bufferT = 1000;\n    var recording = false;\n    var accelVectors = [\n        0,\n        0,\n        0\n    ];\n    var testX = 0;\n    var testY = 0;\n    var testZ = 0;\n    var testVX = 0;\n    var testVY = 0;\n    var testVZ = 0;\n    var testPX = 0;\n    var testPY = 0;\n    var testPZ = 0;\n    var testTheta = 0;\n    var testBeta = 0;\n    var testGamma = 0;\n    var sampleR = 10;\n    var CurrPX = 0;\n    var CurrPY = 0;\n    const maxWidth = 13;\n    const rollOff = 0.8;\n    const rotDelta = 0.25;\n    const boundariesM = 5;\n    const maxAccel = 1.4;\n    const scaleVal = 1 / 20;\n    var analyserActive = false;\n    let ctx;\n    let analyser;\n    let source;\n    let data;\n    var beginTS = Date.now();\n    const humanRange = [\n        150,\n        10000\n    ];\n    const rangerFreq = 12000;\n    var humanRangeCount = 10;\n    var humanCutoff = 120;\n    var rangedDistance = 0;\n    var offset = 0;\n    function encodeXY(x, y) {\n        return y * maxWidth + x;\n    }\n    function elapsedTimeU() {\n        if (timeElapsed % sampleR != 0 || timeElapsed == 0) {\n            axc += accelVectors[0];\n            ayc += accelVectors[1];\n            azc += accelVectors[2];\n            if (timeElapsed % 2 == 1) {\n                diff -= Math.sin(0.5 * radians(compass));\n                avgZ += abs(diff);\n            } else {\n                diff = Math.sin(0.5 * radians(compass));\n            }\n            timeElapsed += 1;\n            return;\n        }\n        avgZ /= 5;\n        if (avgZ >= rotDelta) {\n            axc = 0, ayc = 0, azc = 0;\n        }\n        avgZ = 0;\n        diff = 0;\n        axc /= sampleR;\n        ayc /= sampleR;\n        azc /= sampleR;\n        var corrXYZ = rotationX(radians(-beta), rotationY(radians(-gamma), [\n            axc,\n            ayc,\n            azc\n        ]));\n        var ax = Math.sin(radians(compass)) * threshold(corrXYZ[2], rollOff, maxAccel);\n        var ay = threshold(corrXYZ[1], rollOff, maxAccel);\n        var az = Math.cos(radians(compass)) * -threshold(corrXYZ[0], rollOff, maxAccel);\n        axc = 0, ayc = 0, azc = 0;\n        testTheta = compass;\n        testBeta = beta;\n        testGamma = gamma;\n        testX = ax;\n        testY = ay;\n        testZ = az;\n        testVX = bias(testVX, 0.5, 0.5, 2) + ax;\n        testVY = bias(testVY, 0.5, 0.5, 2) + ay;\n        testVZ = bias(testVZ, 0.5, 0.5, 2) + az;\n        if (testPX + testVX < maxWidth && testPX + testVX > -maxWidth) testPX += testVX;\n        if (testPY + testVY < maxWidth && testPY + testVY > -maxWidth) testPY += testVY;\n        if (testPZ + testVZ < maxWidth && testPZ + testVZ > -maxWidth) testPZ += testVZ;\n        CurrPX = testPX * scaleVal;\n        CurrPY = testPZ * scaleVal;\n        timeElapsed += 1;\n    }\n    // 25 samples in 25 ms\n    // (a, a, a, a, a, a, a, a, a, a, a, a, a, a, a, a, a, a, a, a, a, a, a, a, a )\n    // (0, 1, 2, 3,..)\n    // 5 samples per 5 ms\n    // (v, v, v, v, v)\n    // (disp)\n    var chSet = false;\n    window.setChannel = function() {\n        if (!chSet) {\n            setup();\n            setInterval(elapsedTimeU, 1);\n            chSet = true;\n        }\n    };\n    function handleMotionEvent(event) {\n        accelVectors[0] = event.acceleration.x;\n        accelVectors[1] = event.acceleration.y;\n        accelVectors[2] = event.acceleration.z;\n    // Do something awesome.\n    }\n    window.addEventListener(\"devicemotion\", handleMotionEvent, true);\n    function init() {\n        navigator.geolocation.getCurrentPosition(locationHandler);\n        if (!isIOS) {\n            window.addEventListener(\"deviceorientationabsolute\", handler_compass, true);\n        }\n        initAudio();\n    }\n    async function initAudio() {\n        ctx = new AudioContext();\n        analyser = ctx.createAnalyser();\n        const gainNode = ctx.createGain();\n        gainNode.gain.value = 4;\n        navigator.mediaDevices.getUserMedia({\n            video: false,\n            audio: true\n        }).then(callback).catch(console.log);\n        function callback(stream) {\n            source = ctx.createMediaStreamSource(stream);\n            source.connect(gainNode);\n            gainNode.connect(analyser);\n            //analyser.connect(ctx.destination);\n            if (!analyserActive) {\n                analyserActive = true;\n                setInterval(audioTracker, 1);\n            }\n            console.log(\"audio init\");\n        }\n    }\n    var irnd = 0;\n    var normalAvg = 0;\n    var rangedAvg = 0;\n    var trackerMs = 0;\n    var paused = false;\n    function audioTracker() {\n        if (data == null) {\n            data = new Uint8Array(analyser.frequencyBinCount);\n        }\n        function play() {\n            analyser.getByteFrequencyData(data);\n            // get fullest bin\n            var nm1 = 0;\n            var nm2 = 0;\n            humanRangeCount = 0;\n            rangedDistance = 0;\n            for(var j = 0; j < analyser.frequencyBinCount; j++){\n                var frequency = j * ctx.sampleRate / analyser.fftSize;\n                if (frequency >= humanRange[0] && frequency <= humanRange[1] && data[j] > 25) {\n                    humanRangeCount += data[j];\n                    nm1++;\n                }\n                if (frequency > rangerFreq && data[j] > 0) {\n                    if (nm2 == 0) rangedDistance = data[j];\n                    else if (rangedDistance < data[j]) rangedDistance = data[j];\n                    // console.log(frequency, data[j]);\n                    nm2++;\n                }\n            }\n            if (nm1 > 0) {\n                humanRangeCount /= nm1;\n            }\n            normalAvg += humanRangeCount;\n            ranged.value = rangedDistance;\n            irnd++;\n            if (irnd > 10) {\n                if (normalAvg / 10 >= humanCutoff) {\n                    if (!Cstatus) {\n                        recognition.start();\n                        beginTS = Date.now();\n                    }\n                    trackerMs = 0;\n                }\n                normal.value = normalAvg / 10;\n                normalAvg = 0;\n                irnd = 0;\n            } else {\n                trackerMs++;\n                // console.log(trackerMs);\n                if (trackerMs > 3500) {\n                    paused = true;\n                } else {\n                    paused = false;\n                }\n            }\n        }\n        play();\n    }\n    function startCompass() {\n        if (isIOS) {\n            DeviceOrientationEvent.requestPermission().then((response)=>{\n                if (response === \"granted\") {\n                    window.addEventListener(\"deviceorientation\", handler_compass, true);\n                } else {\n                    alert(\"has to be allowed!\");\n                }\n            }).catch(()=>alert(\"not supported\"));\n        }\n    }\n    function setup() {\n        console.log(\"connect\");\n        // Request permission for iOS 13+ devices\n        init();\n        startCompass();\n    }\n    function result(e) {\n        try {\n            const data = JSON.parse(e);\n            if (transcriptWords.length > 0 && data.ts == transcriptWords) {\n                transcriptWords = \"\";\n            }\n        } catch (e) {\n            console.log(\"Error: \", e);\n        }\n    }\n    function captureData() {\n        const data = {\n            \"id\": id.value,\n            \"px\": CurrPX,\n            \"py\": CurrPY,\n            \"theta\": compass,\n            \"cxy\": encodeXY(CurrPX, CurrPY),\n            \"timestamp\": beginTS.toString(),\n            \"transcript\": transcriptWords,\n            \"paused\": paused\n        };\n        txt.value = data.transcript;\n        if (data.transcript.length > 0 || true) {\n            sendPacket(\"/convo-ts\", \"POST\", data, true, result, null);\n        }\n    }\n    function MicSnapshot() {\n        try {\n            if (Cstatus) {\n                recognition.stop();\n            }\n        } catch (e) {\n            console.error(e);\n        }\n    }\n    var handv = null;\n    window.startRecording = function() {\n        recording = true;\n        handv = setInterval(captureData, 100);\n    };\n    window.stopRecording = function() {\n        recording = false;\n        //   window.Stream.end();\n        clearInterval(handv);\n        setTimeout(function() {\n            location.reload();\n        }, 2000);\n    };\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2NvbXBvbmVudHMvdWkvcmVjb3JkZXIudHMiLCJtYXBwaW5ncyI6Ijs7OztBQUFPLFNBQVNBLGNBQWNDLE9BQWUsRUFBRUMsS0FBYSxFQUFFQyxJQUFZO0lBRWxFLElBQUlDLFNBQVM7SUFDYixJQUFJQyxLQUFLQyxTQUFTQyxjQUFjLENBQUM7SUFDakMsSUFBSUMsV0FBV0YsU0FBU0MsY0FBYyxDQUFDO0lBQ3ZDLElBQUlFLEtBQUtILFNBQVNDLGNBQWMsQ0FBQztJQUNqQyxJQUFJRyxNQUFNSixTQUFTQyxjQUFjLENBQUM7SUFFbEMsSUFBSUksU0FBU0wsU0FBU0MsY0FBYyxDQUFDO0lBQ3JDLElBQUlLLFNBQVNOLFNBQVNDLGNBQWMsQ0FBQztJQUVyQyxNQUFNTSxVQUFVO0lBQ2hCLElBQUlDLFlBQVk7SUFFaEIsSUFBSUMsZUFBZTtRQUFDO1FBQUc7UUFBRztLQUFFO0lBQzVCLElBQUlDLFFBQVE7SUFDWixJQUFJQyxRQUFRO0lBQ1osSUFBSUMsUUFBUTtJQUVaLElBQUlDLFNBQVM7SUFDYixJQUFJQyxTQUFTO0lBQ2IsSUFBSUMsU0FBUztJQUViLElBQUlDLFNBQVM7SUFDYixJQUFJQyxTQUFTO0lBQ2IsSUFBSUMsU0FBUztJQUViLElBQUlDLFlBQVk7SUFDaEIsSUFBSUMsV0FBVztJQUNmLElBQUlDLFlBQVk7SUFFaEIsSUFBSUMsVUFBVTtJQUNkLElBQUlDLFNBQVM7SUFDYixJQUFJQyxTQUFTO0lBRWIsTUFBTUMsV0FBVztJQUNqQixNQUFNQyxVQUFVO0lBQ2hCLE1BQU1DLFdBQVc7SUFDakIsTUFBTUMsY0FBYztJQUNwQixNQUFNQyxXQUFXO0lBRWpCLE1BQU1DLFdBQVcsSUFBRTtJQUVuQixJQUFJQyxpQkFBaUI7SUFDckIsSUFBSUM7SUFDSixJQUFJQztJQUNKLElBQUlDO0lBRUosSUFBSUM7SUFHSixJQUFJQyxVQUFVQyxLQUFLQyxHQUFHO0lBQ3RCLE1BQU1DLGFBQWE7UUFBQztRQUFLO0tBQU07SUFDL0Is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QWMsR0FBRztRQUNwQnZJLFlBQVk7UUFDWnNJLFFBQVF0RSxZQUFZK0QsYUFBYTtJQUNyQztJQUVBbEUsT0FBTzJFLGFBQWEsR0FBRztRQUNuQnhJLFlBQVk7UUFDZix5QkFBeUI7UUFFdEJ5SSxjQUFjSDtRQUNkSSxXQUFXO1lBQ1BDLFNBQVNDLE1BQU07UUFDbkIsR0FBRztJQUNQO0FBQ1IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vY29tcG9uZW50cy91aS9yZWNvcmRlci50cz9mNTZmIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBmdW5jdGlvbiByZWNvcmRlcl9sb29wKGNvbXBhc3M6IG51bWJlciwgZ2FtbWE6IG51bWJlciwgYmV0YTogbnVtYmVyKSB7XG5cbiAgICAgICAgdmFyIHNlcnZlciA9IFwiY29udi1jb3VudC1wb2MtOTk3YzQ4YjRjNGNjLmhlcm9rdWFwcC5jb21cIlxuICAgICAgICB2YXIgaWQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNoYW5uZWxcIik7XG4gICAgICAgIHZhciBjb250cm9scyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY29udHJvbHNcIik7XG4gICAgICAgIHZhciBtcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibXNcIik7XG4gICAgICAgIHZhciB0eHQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndHh0Jyk7XG4gICAgXG4gICAgICAgIHZhciBub3JtYWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm5vcm1hbFwiKTtcbiAgICAgICAgdmFyIHJhbmdlZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicmFuZ2VkXCIpOyBcbiAgICBcbiAgICAgICAgY29uc3QgYnVmZmVyVCA9IDEwMDA7XG4gICAgICAgIHZhciByZWNvcmRpbmcgPSBmYWxzZTtcbiAgICBcbiAgICAgICAgdmFyIGFjY2VsVmVjdG9ycyA9IFswLCAwLCAwXVxuICAgICAgICB2YXIgdGVzdFggPSAwO1xuICAgICAgICB2YXIgdGVzdFkgPSAwO1xuICAgICAgICB2YXIgdGVzdFogPSAwO1xuICAgIFxuICAgICAgICB2YXIgdGVzdFZYID0gMDtcbiAgICAgICAgdmFyIHRlc3RWWSA9IDA7XG4gICAgICAgIHZhciB0ZXN0VlogPSAwO1xuICAgIFxuICAgICAgICB2YXIgdGVzdFBYID0gMDtcbiAgICAgICAgdmFyIHRlc3RQWSA9IDA7XG4gICAgICAgIHZhciB0ZXN0UFogPSAwO1xuICAgIFxuICAgICAgICB2YXIgdGVzdFRoZXRhID0gMDtcbiAgICAgICAgdmFyIHRlc3RCZXRhID0gMDtcbiAgICAgICAgdmFyIHRlc3RHYW1tYSA9IDA7XG4gICAgXG4gICAgICAgIHZhciBzYW1wbGVSID0gMTA7XG4gICAgICAgIHZhciBDdXJyUFggPSAwOyBcbiAgICAgICAgdmFyIEN1cnJQWSA9IDA7XG4gICAgXG4gICAgICAgIGNvbnN0IG1heFdpZHRoID0gMTM7XG4gICAgICAgIGNvbnN0IHJvbGxPZmYgPSAwLjg7XG4gICAgICAgIGNvbnN0IHJvdERlbHRhID0gMC4yNTtcbiAgICAgICAgY29uc3QgYm91bmRhcmllc00gPSA1O1xuICAgICAgICBjb25zdCBtYXhBY2NlbCA9IDEuNDtcbiAgICBcbiAgICAgICAgY29uc3Qgc2NhbGVWYWwgPSAxLzIwO1xuICAgIFxuICAgICAgICB2YXIgYW5hbHlzZXJBY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgbGV0IGN0eDogQXVkaW9Db250ZXh0O1xuICAgICAgICBsZXQgYW5hbHlzZXI6IEFuYWx5c2VyTm9kZTtcbiAgICAgICAgbGV0IHNvdXJjZTogTWVkaWFTdHJlYW1BdWRpb1NvdXJjZU5vZGU7XG4gICAgXG4gICAgICAgIGxldCBkYXRhOiBVaW50OEFycmF5O1xuICAgIFxuICAgIFxuICAgICAgICB2YXIgYmVnaW5UUyA9IERhdGUubm93KCk7XG4gICAgICAgIGNvbnN0IGh1bWFuUmFuZ2UgPSBbMTUwLCAxMDAwMF07XG4gICAgICAgIGNvbnN0IHJhbmdlckZyZXEgPSAxMjAwMDtcbiAgICBcbiAgICAgICAgdmFyIGh1bWFuUmFuZ2VDb3VudCA9IDEwO1xuICAgICAgICB2YXIgaHVtYW5DdXRvZmYgPSAxMjA7XG4gICAgXG4gICAgICAgIHZhciByYW5nZWREaXN0YW5jZSA9IDA7XG4gICAgICAgIHZhciBvZmZzZXQgPSAwO1xuICAgIFxuICAgICAgICBmdW5jdGlvbiBlbmNvZGVYWSh4OiBudW1iZXIseTogbnVtYmVyKSB7XG4gICAgICAgICAgICByZXR1cm4geSptYXhXaWR0aCArIHg7XG4gICAgICAgIH1cbiAgICBcbiAgICAgICAgZnVuY3Rpb24gZWxhcHNlZFRpbWVVKCkge1xuXG4gICAgICAgICAgICBpZiAodGltZUVsYXBzZWQgJSBzYW1wbGVSICE9IDAgfHwgdGltZUVsYXBzZWQgPT0gMCkge1xuICAgICAgICAgICAgICAgIGF4YyArPSBhY2NlbFZlY3RvcnNbMF07IGF5YyArPSBhY2NlbFZlY3RvcnNbMV07IGF6YyArPSBhY2NlbFZlY3RvcnNbMl07XG4gICAgXG4gICAgICAgICAgICAgICAgaWYgKHRpbWVFbGFwc2VkICUgMiA9PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIGRpZmYgLT0gTWF0aC5zaW4oMC41ICogcmFkaWFucyhjb21wYXNzKSk7XG4gICAgICAgICAgICAgICAgICAgIGF2Z1ogKz0gYWJzKGRpZmYpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZGlmZiA9IE1hdGguc2luKDAuNSAqIHJhZGlhbnMoY29tcGFzcykpO1xuICAgICAgICAgICAgICAgIH1cbiAgICBcbiAgICAgICAgICAgICAgICB0aW1lRWxhcHNlZCArPSAxXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBhdmdaIC89IDU7XG4gICAgXG4gICAgICAgICAgICBpZiAoYXZnWiA+PSByb3REZWx0YSkge1xuICAgICAgICAgICAgICAgIGF4YyA9IDAsIGF5YyA9IDAsIGF6YyA9IDA7XG4gICAgICAgICAgICB9XG4gICAgXG4gICAgICAgICAgICBhdmdaID0gMDsgZGlmZiA9IDA7XG4gICAgICAgICAgICBheGMgLz0gc2FtcGxlUjsgYXljIC89IHNhbXBsZVI7IGF6YyAvPSBzYW1wbGVSO1xuICAgIFxuICAgICAgICAgICAgdmFyIGNvcnJYWVogPSByb3RhdGlvblgocmFkaWFucygtYmV0YSksIHJvdGF0aW9uWShyYWRpYW5zKC1nYW1tYSksIFtheGMsIGF5YywgYXpjXSkpXG4gICAgXG4gICAgICAgICAgICB2YXIgYXggPSBNYXRoLnNpbihyYWRpYW5zKGNvbXBhc3MpKSp0aHJlc2hvbGQoY29yclhZWlsyXSwgcm9sbE9mZiwgbWF4QWNjZWwpXG4gICAgICAgICAgICB2YXIgYXkgPSB0aHJlc2hvbGQoY29yclhZWlsxXSwgcm9sbE9mZiwgbWF4QWNjZWwgKVxuICAgICAgICAgICAgdmFyIGF6ID0gTWF0aC5jb3MocmFkaWFucyhjb21wYXNzKSkqLXRocmVzaG9sZChjb3JyWFlaWzBdLCByb2xsT2ZmLCBtYXhBY2NlbClcbiAgICBcbiAgICAgICAgICAgIGF4YyA9IDAsIGF5YyA9IDAsIGF6YyA9IDA7XG4gICAgXG4gICAgICAgICAgICB0ZXN0VGhldGEgPSBjb21wYXNzO1xuICAgICAgICAgICAgdGVzdEJldGEgPSBiZXRhO1xuICAgICAgICAgICAgdGVzdEdhbW1hID0gZ2FtbWE7XG4gICAgXG4gICAgICAgICAgICB0ZXN0WCA9IGF4O1xuICAgICAgICAgICAgdGVzdFkgPSBheTtcbiAgICAgICAgICAgIHRlc3RaID0gYXo7XG4gICAgXG4gICAgICAgICAgICB0ZXN0VlggPSBiaWFzKHRlc3RWWCwwLjUsIDAuNSwgMikgKyBheDtcbiAgICAgICAgICAgIHRlc3RWWSA9IGJpYXModGVzdFZZLDAuNSwgMC41LCAyKSArIGF5O1xuICAgICAgICAgICAgdGVzdFZaID0gYmlhcyh0ZXN0VlosMC41LCAwLjUsIDIpICsgYXo7XG4gICAgXG4gICAgICAgICAgICBpZiAodGVzdFBYICsgdGVzdFZYIDwgbWF4V2lkdGggJiYgdGVzdFBYICsgdGVzdFZYID4gLW1heFdpZHRoKVxuICAgICAgICAgICAgICAgIHRlc3RQWCArPSB0ZXN0Vlg7XG4gICAgICAgICAgICBpZiAodGVzdFBZICsgdGVzdFZZIDwgbWF4V2lkdGggJiYgdGVzdFBZICsgdGVzdFZZID4gLW1heFdpZHRoKVxuICAgICAgICAgICAgICAgIHRlc3RQWSArPSB0ZXN0Vlk7XG4gICAgICAgICAgICBpZiAodGVzdFBaICsgdGVzdFZaIDwgbWF4V2lkdGggJiYgdGVzdFBaICsgdGVzdFZaID4gLW1heFdpZHRoKVxuICAgICAgICAgICAgICAgIHRlc3RQWiArPSB0ZXN0Vlo7XG4gICAgXG4gICAgICAgICAgICBDdXJyUFggPSB0ZXN0UFggKnNjYWxlVmFsO1xuICAgICAgICAgICAgQ3VyclBZID0gdGVzdFBaICpzY2FsZVZhbDtcblxuICAgICAgICAgICAgdGltZUVsYXBzZWQgKz0gMVxuICAgICAgICB9XG4gICAgXG4gICAgICAgIC8vIDI1IHNhbXBsZXMgaW4gMjUgbXNcbiAgICAgICAgLy8gKGEsIGEsIGEsIGEsIGEsIGEsIGEsIGEsIGEsIGEsIGEsIGEsIGEsIGEsIGEsIGEsIGEsIGEsIGEsIGEsIGEsIGEsIGEsIGEsIGEgKVxuICAgICAgICAvLyAoMCwgMSwgMiwgMywuLilcbiAgICAgICAgLy8gNSBzYW1wbGVzIHBlciA1IG1zXG4gICAgICAgIC8vICh2LCB2LCB2LCB2LCB2KVxuICAgICAgICAvLyAoZGlzcClcbiAgICAgICAgdmFyIGNoU2V0ID0gZmFsc2U7XG5cbiAgICAgICAgd2luZG93LnNldENoYW5uZWwgPSBmdW5jdGlvbigpIHsgICBcbiAgICAgICAgICAgIGlmICghY2hTZXQpIHtcbiAgICAgICAgICAgICAgICBzZXR1cCgpO1xuICAgICAgICAgICAgICAgIHNldEludGVydmFsKGVsYXBzZWRUaW1lVSwgMSk7XG4gICAgICAgICAgICAgICAgY2hTZXQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgIH1cbiAgICBcbiAgICAgICAgZnVuY3Rpb24gaGFuZGxlTW90aW9uRXZlbnQoZXZlbnQpIHtcbiAgICBcbiAgICAgICAgICAgIGFjY2VsVmVjdG9yc1swXSA9IGV2ZW50LmFjY2VsZXJhdGlvbi54O1xuICAgICAgICAgICAgYWNjZWxWZWN0b3JzWzFdID0gZXZlbnQuYWNjZWxlcmF0aW9uLnk7XG4gICAgICAgICAgICBhY2NlbFZlY3RvcnNbMl0gPSBldmVudC5hY2NlbGVyYXRpb24uejtcbiAgICAgICAgXG4gICAgICAgICAgICAvLyBEbyBzb21ldGhpbmcgYXdlc29tZS5cbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJkZXZpY2Vtb3Rpb25cIiwgaGFuZGxlTW90aW9uRXZlbnQsIHRydWUpO1xuICAgIFxuICAgICAgICBmdW5jdGlvbiBpbml0KCkge1xuICAgICAgICAgICAgbmF2aWdhdG9yLmdlb2xvY2F0aW9uLmdldEN1cnJlbnRQb3NpdGlvbihsb2NhdGlvbkhhbmRsZXIpO1xuICAgIFxuICAgICAgICAgICAgaWYgKCFpc0lPUykge1xuICAgICAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwiZGV2aWNlb3JpZW50YXRpb25hYnNvbHV0ZVwiLCBoYW5kbGVyX2NvbXBhc3MsIHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaW5pdEF1ZGlvKCk7XG4gICAgICAgIH1cbiAgICBcbiAgICAgICAgYXN5bmMgZnVuY3Rpb24gaW5pdEF1ZGlvKCkge1xuICAgICAgICAgICAgY3R4ID0gbmV3IEF1ZGlvQ29udGV4dCgpO1xuICAgICAgICAgICAgYW5hbHlzZXIgPSBjdHguY3JlYXRlQW5hbHlzZXIoKTtcbiAgICAgICAgICAgIGNvbnN0IGdhaW5Ob2RlID0gY3R4LmNyZWF0ZUdhaW4oKTtcbiAgICBcbiAgICAgICAgICAgIGdhaW5Ob2RlLmdhaW4udmFsdWUgPSA0O1xuICAgIFxuICAgICAgICAgICAgbmF2aWdhdG9yLm1lZGlhRGV2aWNlc1xuICAgICAgICAgICAgICAgIC5nZXRVc2VyTWVkaWEoeyB2aWRlbyA6IGZhbHNlLCBhdWRpbyA6IHRydWUgfSlcbiAgICAgICAgICAgICAgICAudGhlbihjYWxsYmFjaylcbiAgICAgICAgICAgICAgICAuY2F0Y2goY29uc29sZS5sb2cpO1xuICAgIFxuICAgIFxuICAgICAgICAgICAgZnVuY3Rpb24gY2FsbGJhY2soc3RyZWFtKSB7XG4gICAgICAgICAgICAgICAgc291cmNlID0gY3R4LmNyZWF0ZU1lZGlhU3RyZWFtU291cmNlKHN0cmVhbSk7XG4gICAgICAgICAgICAgICAgc291cmNlLmNvbm5lY3QoZ2Fpbk5vZGUpO1xuICAgICAgICAgICAgICAgIGdhaW5Ob2RlLmNvbm5lY3QoYW5hbHlzZXIpO1xuICAgICAgICAgICAgICAgIC8vYW5hbHlzZXIuY29ubmVjdChjdHguZGVzdGluYXRpb24pO1xuICAgIFxuICAgICAgICAgICAgICAgIGlmICghYW5hbHlzZXJBY3RpdmUpIHtcbiAgICAgICAgICAgICAgICAgICAgYW5hbHlzZXJBY3RpdmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBzZXRJbnRlcnZhbChhdWRpb1RyYWNrZXIsIDEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICBcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcImF1ZGlvIGluaXRcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICBcbiAgICAgICAgdmFyIGlybmQgPSAwO1xuICAgICAgICB2YXIgbm9ybWFsQXZnID0gMDtcbiAgICAgICAgdmFyIHJhbmdlZEF2ZyA9IDA7XG4gICAgXG4gICAgICAgIHZhciB0cmFja2VyTXMgPSAwO1xuICAgIFxuICAgICAgICB2YXIgcGF1c2VkID0gZmFsc2U7XG4gICAgICAgIGZ1bmN0aW9uIGF1ZGlvVHJhY2tlcigpIHtcbiAgICAgICAgICAgIGlmIChkYXRhID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBkYXRhID0gbmV3IFVpbnQ4QXJyYXkoYW5hbHlzZXIuZnJlcXVlbmN5QmluQ291bnQpO1xuICAgICAgICAgICAgfVxuICAgIFxuICAgICAgICAgICAgZnVuY3Rpb24gcGxheSgpIHtcbiAgICAgICAgICAgICAgICBhbmFseXNlci5nZXRCeXRlRnJlcXVlbmN5RGF0YShkYXRhKTtcbiAgICBcbiAgICAgICAgICAgICAgICAvLyBnZXQgZnVsbGVzdCBiaW5cbiAgICAgICAgICAgICAgICB2YXIgbm0xID0gMDtcbiAgICAgICAgICAgICAgICB2YXIgbm0yID0gMDtcbiAgICBcbiAgICAgICAgICAgICAgICBodW1hblJhbmdlQ291bnQgPSAwO1xuICAgICAgICAgICAgICAgIHJhbmdlZERpc3RhbmNlID0gMDtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBqPTA7IGogPCBhbmFseXNlci5mcmVxdWVuY3lCaW5Db3VudDsgaisrKSB7XG4gICAgXG4gICAgICAgICAgICAgICAgICAgIHZhciBmcmVxdWVuY3kgPSBqICogY3R4LnNhbXBsZVJhdGUgLyBhbmFseXNlci5mZnRTaXplO1xuICAgIFxuICAgICAgICAgICAgICAgICAgICBpZiAoZnJlcXVlbmN5ID49IGh1bWFuUmFuZ2VbMF0gJiYgZnJlcXVlbmN5IDw9IGh1bWFuUmFuZ2VbMV0gJiYgZGF0YVtqXSA+IDI1KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBodW1hblJhbmdlQ291bnQgKz0gZGF0YVtqXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5tMSsrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBpZiAoZnJlcXVlbmN5ID4gcmFuZ2VyRnJlcSAmJiBkYXRhW2pdID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5tMiA9PSAwKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhbmdlZERpc3RhbmNlID0gZGF0YVtqXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHJhbmdlZERpc3RhbmNlIDwgZGF0YVtqXSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByYW5nZWREaXN0YW5jZSA9IGRhdGFbal07XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhmcmVxdWVuY3ksIGRhdGFbal0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgbm0yKys7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgaWYgKG5tMSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgaHVtYW5SYW5nZUNvdW50IC89IG5tMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgXG4gICAgICAgICAgICAgICAgbm9ybWFsQXZnICs9IGh1bWFuUmFuZ2VDb3VudDtcbiAgICAgICAgICAgICAgICByYW5nZWQudmFsdWUgPSByYW5nZWREaXN0YW5jZTtcbiAgICBcbiAgICAgICAgICAgICAgICBpcm5kKys7XG4gICAgXG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgaWYgKGlybmQgPiAxMCkge1xuICAgIFxuICAgICAgICAgICAgICAgICAgICBpZiAobm9ybWFsQXZnIC8gMTAgPj0gaHVtYW5DdXRvZmYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghQ3N0YXR1cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlY29nbml0aW9uLnN0YXJ0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmVnaW5UUyA9IERhdGUubm93KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFja2VyTXMgPSAwO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgXG4gICAgICAgICAgICAgICAgICAgIG5vcm1hbC52YWx1ZSA9IG5vcm1hbEF2ZyAvIDEwO1xuICAgIFxuICAgICAgICAgICAgICAgICAgICBub3JtYWxBdmcgPSAwO1xuICAgICAgICAgICAgICAgICAgICBpcm5kID0gMDtcbiAgICAgICAgICAgICAgICB9ICAgXG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRyYWNrZXJNcysrO1xuICAgIFxuICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyh0cmFja2VyTXMpO1xuICAgIFxuICAgICAgICAgICAgICAgICAgICBpZiAodHJhY2tlck1zID4gMzUwMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGF1c2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfSAgIFxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdXNlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgIFxuICAgICAgICAgICAgcGxheSgpO1xuICAgICAgICB9XG4gICAgXG4gICAgICAgIGZ1bmN0aW9uIHN0YXJ0Q29tcGFzcygpIHtcbiAgICAgICAgICAgIGlmIChpc0lPUykge1xuICAgICAgICAgICAgICAgIERldmljZU9yaWVudGF0aW9uRXZlbnQucmVxdWVzdFBlcm1pc3Npb24oKVxuICAgICAgICAgICAgICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZSA9PT0gXCJncmFudGVkXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImRldmljZW9yaWVudGF0aW9uXCIsIGhhbmRsZXJfY29tcGFzcywgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KFwiaGFzIHRvIGJlIGFsbG93ZWQhXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAuY2F0Y2goKCkgPT4gYWxlcnQoXCJub3Qgc3VwcG9ydGVkXCIpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIFxuICAgICAgICBmdW5jdGlvbiBzZXR1cCgpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiY29ubmVjdFwiKVxuICAgICAgICAgICAgIC8vIFJlcXVlc3QgcGVybWlzc2lvbiBmb3IgaU9TIDEzKyBkZXZpY2VzXG4gICAgICAgICAgICBpbml0KCk7XG4gICAgICAgICAgICBzdGFydENvbXBhc3MoKTtcbiAgICAgICAgfVxuICAgIFxuICAgICAgICBmdW5jdGlvbiByZXN1bHQoZSkge1xuICAgIFxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0gSlNPTi5wYXJzZShlKTtcbiAgICBcbiAgICAgICAgICAgICAgICBpZiAodHJhbnNjcmlwdFdvcmRzLmxlbmd0aCA+IDAgJiYgZGF0YS50cyA9PSB0cmFuc2NyaXB0V29yZHMpIHtcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNjcmlwdFdvcmRzID0gXCJcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJFcnJvcjogXCIsIGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgXG4gICAgICAgIGZ1bmN0aW9uIGNhcHR1cmVEYXRhKCkge1xuICAgICAgICAgICAgY29uc3QgZGF0YSA9IHtcImlkXCI6IGlkLnZhbHVlLCBcInB4XCI6IEN1cnJQWCwgXCJweVwiOiBDdXJyUFksIFwidGhldGFcIjogY29tcGFzcywgXCJjeHlcIjogZW5jb2RlWFkoQ3VyclBYLCBDdXJyUFkpLCBcInRpbWVzdGFtcFwiOiBiZWdpblRTLnRvU3RyaW5nKCksIFwidHJhbnNjcmlwdFwiOiB0cmFuc2NyaXB0V29yZHMsIFwicGF1c2VkXCI6IHBhdXNlZH1cbiAgICBcbiAgICAgICAgICAgIHR4dC52YWx1ZSA9IGRhdGEudHJhbnNjcmlwdDtcbiAgICBcbiAgICAgICAgICAgIGlmIChkYXRhLnRyYW5zY3JpcHQubGVuZ3RoID4gMCB8fCB0cnVlKSB7XG4gICAgICAgICAgICAgICAgc2VuZFBhY2tldCgnL2NvbnZvLXRzJywgXCJQT1NUXCIsIGRhdGEsIHRydWUsIHJlc3VsdCwgbnVsbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICBcbiAgICAgICAgZnVuY3Rpb24gTWljU25hcHNob3QoKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGlmIChDc3RhdHVzKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlY29nbml0aW9uLnN0b3AoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICBcbiAgICAgICAgdmFyIGhhbmR2ID0gbnVsbDtcbiAgICBcbiAgICAgICAgd2luZG93LnN0YXJ0UmVjb3JkaW5nID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZWNvcmRpbmcgPSB0cnVlO1xuICAgICAgICAgICAgaGFuZHYgPSBzZXRJbnRlcnZhbChjYXB0dXJlRGF0YSwgMTAwKVxuICAgICAgICB9XG4gICAgXG4gICAgICAgIHdpbmRvdy5zdG9wUmVjb3JkaW5nID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZWNvcmRpbmcgPSBmYWxzZTtcbiAgICAgICAgIC8vICAgd2luZG93LlN0cmVhbS5lbmQoKTtcbiAgICBcbiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaGFuZHYpO1xuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBsb2NhdGlvbi5yZWxvYWQoKTtcbiAgICAgICAgICAgIH0sIDIwMDApO1xuICAgICAgICB9XG59XG4iXSwibmFtZXMiOlsicmVjb3JkZXJfbG9vcCIsImNvbXBhc3MiLCJnYW1tYSIsImJldGEiLCJzZXJ2ZXIiLCJpZCIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJjb250cm9scyIsIm1zIiwidHh0Iiwibm9ybWFsIiwicmFuZ2VkIiwiYnVmZmVyVCIsInJlY29yZGluZyIsImFjY2VsVmVjdG9ycyIsInRlc3RYIiwidGVzdFkiLCJ0ZXN0WiIsInRlc3RWWCIsInRlc3RWWSIsInRlc3RWWiIsInRlc3RQWCIsInRlc3RQWSIsInRlc3RQWiIsInRlc3RUaGV0YSIsInRlc3RCZXRhIiwidGVzdEdhbW1hIiwic2FtcGxlUiIsIkN1cnJQWCIsIkN1cnJQWSIsIm1heFdpZHRoIiwicm9sbE9mZiIsInJvdERlbHRhIiwiYm91bmRhcmllc00iLCJtYXhBY2NlbCIsInNjYWxlVmFsIiwiYW5hbHlzZXJBY3RpdmUiLCJjdHgiLCJhbmFseXNlciIsInNvdXJjZSIsImRhdGEiLCJiZWdpblRTIiwiRGF0ZSIsIm5vdyIsImh1bWFuUmFuZ2UiLCJyYW5nZXJGcmVxIiwiaHVtYW5SYW5nZUNvdW50IiwiaHVtYW5DdXRvZmYiLCJyYW5nZWREaXN0YW5jZSIsIm9mZnNldCIsImVuY29kZVhZIiwieCIsInkiLCJlbGFwc2VkVGltZVUiLCJ0aW1lRWxhcHNlZCIsImF4YyIsImF5YyIsImF6YyIsImRpZmYiLCJNYXRoIiwic2luIiwicmFkaWFucyIsImF2Z1oiLCJhYnMiLCJjb3JyWFlaIiwicm90YXRpb25YIiwicm90YXRpb25ZIiwiYXgiLCJ0aHJlc2hvbGQiLCJheSIsImF6IiwiY29zIiwiYmlhcyIsImNoU2V0Iiwid2luZG93Iiwic2V0Q2hhbm5lbCIsInNldHVwIiwic2V0SW50ZXJ2YWwiLCJoYW5kbGVNb3Rpb25FdmVudCIsImV2ZW50IiwiYWNjZWxlcmF0aW9uIiwieiIsImFkZEV2ZW50TGlzdGVuZXIiLCJpbml0IiwibmF2aWdhdG9yIiwiZ2VvbG9jYXRpb24iLCJnZXRDdXJyZW50UG9zaXRpb24iLCJsb2NhdGlvbkhhbmRsZXIiLCJpc0lPUyIsImhhbmRsZXJfY29tcGFzcyIsImluaXRBdWRpbyIsIkF1ZGlvQ29udGV4dCIsImNyZWF0ZUFuYWx5c2VyIiwiZ2Fpbk5vZGUiLCJjcmVhdGVHYWluIiwiZ2FpbiIsInZhbHVlIiwibWVkaWFEZXZpY2VzIiwiZ2V0VXNlck1lZGlhIiwidmlkZW8iLCJhdWRpbyIsInRoZW4iLCJjYWxsYmFjayIsImNhdGNoIiwiY29uc29sZSIsImxvZyIsInN0cmVhbSIsImNyZWF0ZU1lZGlhU3RyZWFtU291cmNlIiwiY29ubmVjdCIsImF1ZGlvVHJhY2tlciIsImlybmQiLCJub3JtYWxBdmciLCJyYW5nZWRBdmciLCJ0cmFja2VyTXMiLCJwYXVzZWQiLCJVaW50OEFycmF5IiwiZnJlcXVlbmN5QmluQ291bnQiLCJwbGF5IiwiZ2V0Qnl0ZUZyZXF1ZW5jeURhdGEiLCJubTEiLCJubTIiLCJqIiwiZnJlcXVlbmN5Iiwic2FtcGxlUmF0ZSIsImZmdFNpemUiLCJDc3RhdHVzIiwicmVjb2duaXRpb24iLCJzdGFydCIsInN0YXJ0Q29tcGFzcyIsIkRldmljZU9yaWVudGF0aW9uRXZlbnQiLCJyZXF1ZXN0UGVybWlzc2lvbiIsInJlc3BvbnNlIiwiYWxlcnQiLCJyZXN1bHQiLCJlIiwiSlNPTiIsInBhcnNlIiwidHJhbnNjcmlwdFdvcmRzIiwibGVuZ3RoIiwidHMiLCJjYXB0dXJlRGF0YSIsInRvU3RyaW5nIiwidHJhbnNjcmlwdCIsInNlbmRQYWNrZXQiLCJNaWNTbmFwc2hvdCIsInN0b3AiLCJlcnJvciIsImhhbmR2Iiwic3RhcnRSZWNvcmRpbmciLCJzdG9wUmVjb3JkaW5nIiwiY2xlYXJJbnRlcnZhbCIsInNldFRpbWVvdXQiLCJsb2NhdGlvbiIsInJlbG9hZCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./components/ui/recorder.ts\n"));

/***/ })

});